{
  "id": "7efc549a05640a80a5b73e6e3eacf0ce0f7b28744a62f64be5b44b0c04e73554",
  "full_path": "do material-site-subscriptions create",
  "description": "Create a new material site subscription.",
  "permissions": "Allowed for admins. Allowed for material supplier managers (including broker members acting as managers) for the material supplier tied to the material site. Material supplier members can create subscriptions only for themselves.",
  "side_effects": "Creates a material site subscription and enqueues a job to create related job production plan subscriptions.",
  "validation_notes": "user and material-site are required. contact-method, if provided, must be one of: email_address, mobile_number. contact-method must be available for the user or it will fall back to the user default. User must be contactable. User must be a member of the material supplier or broker for the material site unless admin. A user can have only one subscription per material site.",
  "flags": [
    {
      "name": "--user",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "User ID (required)",
      "default": null,
      "validation": null
    },
    {
      "name": "--material-site",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Material site ID (required)",
      "default": null,
      "validation": null
    },
    {
      "name": "--contact-method",
      "aliases": null,
      "required": false,
      "type": "enum",
      "description": "Contact method (email_address, mobile_number)",
      "default": null,
      "validation": "one of: email_address, mobile_number"
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_material_site_subscriptions_create.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/material_site_subscription_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/resources/v1/material_site_subscription_resource.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/material_site_subscription.rb"
    }
  ]
}