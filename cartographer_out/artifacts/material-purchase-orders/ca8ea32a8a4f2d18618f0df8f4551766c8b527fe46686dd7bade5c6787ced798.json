{
  "id": "ca8ea32a8a4f2d18618f0df8f4551766c8b527fe46686dd7bade5c6787ced798",
  "full_path": "do material-purchase-orders update",
  "description": "Update a material purchase order.",
  "permissions": "Admin users, users who are members of the broker on the purchase order, or customer managers for the associated customer can update material purchase orders.",
  "side_effects": "Updates a material purchase order record.",
  "validation_notes": "At least one updatable flag must be provided. status must be one of editing, approved, or closed. unit-of-measure must be a valid primary material unit of measure (load or ton). quantity must be greater than 0 and must be greater than or equal to the sum of active release quantities. Job site requires customer to be set, and job site must belong to that customer. Customer and material supplier must share the same broker as the purchase order. Material site must belong to the material supplier. material-type must be generic or related to the material supplier. transaction-at-min and transaction-at-max expect ISO 8601 datetimes. transaction-at-min must be less than or equal to all redemption mins; transaction-at-max must be greater than or equal to all redemption maxes. broker and material-supplier cannot be changed after creation. Empty values for customer, material-site, or job-site clear those relationships.",
  "flags": [
    {
      "name": "--status",
      "aliases": null,
      "required": false,
      "type": "enum",
      "description": "Set status (editing,approved,closed)",
      "default": null,
      "validation": "editing,approved,closed"
    },
    {
      "name": "--is-managing-redemption",
      "aliases": null,
      "required": false,
      "type": "boolean",
      "description": "Enable redemption management",
      "default": null,
      "validation": null
    },
    {
      "name": "--no-is-managing-redemption",
      "aliases": null,
      "required": false,
      "type": "boolean",
      "description": "Disable redemption management",
      "default": null,
      "validation": null
    },
    {
      "name": "--transaction-at-min",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Minimum transaction datetime (ISO 8601)",
      "default": null,
      "validation": "ISO 8601 datetime"
    },
    {
      "name": "--transaction-at-max",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Maximum transaction datetime (ISO 8601)",
      "default": null,
      "validation": "ISO 8601 datetime"
    },
    {
      "name": "--quantity",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Ordered quantity",
      "default": null,
      "validation": "must be greater than 0"
    },
    {
      "name": "--external-purchase-order-id",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "External purchase order ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--external-sales-order-id",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "External sales order ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--customer",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Customer ID (empty to clear)",
      "default": null,
      "validation": "empty value clears the relationship"
    },
    {
      "name": "--material-type",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Material type ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--material-site",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Material site ID (empty to clear)",
      "default": null,
      "validation": "empty value clears the relationship"
    },
    {
      "name": "--job-site",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Job site ID (empty to clear)",
      "default": null,
      "validation": "empty value clears the relationship"
    },
    {
      "name": "--unit-of-measure",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Unit of measure ID",
      "default": null,
      "validation": "must be load or ton"
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_material_purchase_orders_update.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/material_purchase_order.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/material_purchase_order_policy.rb"
    }
  ]
}
