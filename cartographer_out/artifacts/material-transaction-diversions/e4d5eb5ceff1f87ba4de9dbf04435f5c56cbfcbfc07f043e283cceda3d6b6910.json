{
  "id": "e4d5eb5ceff1f87ba4de9dbf04435f5c56cbfcbfc07f043e283cceda3d6b6910",
  "full_path": "do material-transaction-diversions create",
  "description": "Create a material transaction diversion",
  "permissions": "User must be an admin or a broker member for the diversion's broker.",
  "side_effects": "Creates a material transaction diversion and, if the material transaction has a driver, creates a MaterialTransactionDiversionNotification for that driver.",
  "validation_notes": "material-transaction is required. diverted-tons-explicit must be > 0 and <= the material transaction tons. new-delivery-date must be on or after the material transaction date. material-transaction can only be diverted once (unique). If provided, new-job-site must be related to the broker. new-delivery-date must be in YYYY-MM-DD format.",
  "flags": [
    {
      "name": "--material-transaction",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Material transaction ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--new-job-site",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "New job site ID",
      "default": null,
      "validation": "Must be related to the broker when provided."
    },
    {
      "name": "--new-delivery-date",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "New delivery date (YYYY-MM-DD)",
      "default": null,
      "validation": "YYYY-MM-DD; on or after the material transaction date."
    },
    {
      "name": "--diverted-tons-explicit",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Explicit diverted tons",
      "default": null,
      "validation": "Must be > 0 and <= the material transaction tons."
    },
    {
      "name": "--driver-instructions",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Driver instructions",
      "default": null,
      "validation": null
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_material_transaction_diversions_create.go"
    },
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_material_transaction_diversions.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/resources/v1/material_transaction_diversion_resource.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/material_transaction_diversion_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/material_transaction_diversion.rb"
    }
  ]
}
