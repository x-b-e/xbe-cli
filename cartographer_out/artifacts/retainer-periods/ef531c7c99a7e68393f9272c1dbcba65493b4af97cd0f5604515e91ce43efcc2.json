{
  "id": "ef531c7c99a7e68393f9272c1dbcba65493b4af97cd0f5604515e91ce43efcc2",
  "full_path": "do retainer-periods create",
  "description": "Create a retainer period.",
  "permissions": "Allowed when the user can create the parent retainer. Retainer periods delegate create permission to the retainer policy: admins are allowed; broker retainers allow broker members of the buyer organization; customer retainers allow broker members of the seller organization or customer members of the buyer organization.",
  "side_effects": "Creates a retainer period.",
  "validation_notes": "Required: retainer, start-on, end-on, and weekly-payment-amount. Dates must be provided as YYYY-MM-DD. end_on must be greater than start_on. weekly_payment_amount must be greater than 0. start_on and end_on must not overlap an existing retainer period for the same retainer. Retainer period can only be created while its retainer is editing. The sum of retainer payment amounts must be less than or equal to the maximum total payment for the period.",
  "flags": [
    {
      "name": "--retainer",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Retainer ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--start-on",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Start date (YYYY-MM-DD)",
      "default": null,
      "validation": "Format: YYYY-MM-DD."
    },
    {
      "name": "--end-on",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "End date (YYYY-MM-DD)",
      "default": null,
      "validation": "Format: YYYY-MM-DD."
    },
    {
      "name": "--weekly-payment-amount",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Weekly payment amount",
      "default": null,
      "validation": "Must be greater than 0."
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_retainer_periods_create.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/retainer_period.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/retainer_period_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/concerns/retainer_child_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/broker_retainer_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/customer_retainer_policy.rb"
    }
  ]
}