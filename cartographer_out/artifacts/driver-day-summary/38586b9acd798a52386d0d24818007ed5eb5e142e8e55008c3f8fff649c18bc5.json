{
  "id": "38586b9acd798a52386d0d24818007ed5eb5e142e8e55008c3f8fff649c18bc5",
  "full_path": "summarize driver-day-summary create",
  "description": "Create a driver day summary.",
  "permissions": "Authenticated users can run the summary; results are limited to DriverDay records in the caller\u2019s Pundit policy scope, enforced via the server-side current_user filter.",
  "side_effects": null,
  "validation_notes": "--filters must be valid JSON object syntax. Each --filter value must be in key=value form with a non-empty key. If --group-by is omitted, the server defaults to grouping by driver. If no metrics are specified and --all-metrics is false, the server defaults to driver_day_count, duration_hours_sum, shift_count_sum. If --all-metrics is true, the client omits included-metrics and the server returns all metrics. group_by values must be whitelisted summary attributes (broker, date, driver, is_driver_assigned, is_managed, is_timecarded, month, shift_count, time_card_cost_band_50, trailer_classification, trucker, week, year). filter keys must be whitelisted summary attributes (broker, trucker, driver, is_driver_assigned, shift_count, is_managed, is_timecarded, year, month, week, date, start_on_min, start_on_max, trailer_classification, current_user). If the current_user filter is provided, it must match the authenticated user or the server raises an error. trailer_classification filter values are validated server-side via QueryFormat.verify_id_inputs.",
  "flags": [
    {
      "name": "--all-metrics",
      "aliases": null,
      "required": false,
      "type": "boolean",
      "description": "Include all metrics returned by the API.",
      "default": null,
      "validation": null
    },
    {
      "name": "--filter",
      "aliases": null,
      "required": false,
      "type": "array",
      "description": "Filter in key=value format (repeatable).",
      "default": null,
      "validation": "Each value must be in key=value format with a non-empty key."
    },
    {
      "name": "--filters",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Filters JSON object (e.g. '{\"broker\":\"123\"}').",
      "default": null,
      "validation": "Must be valid JSON object syntax."
    },
    {
      "name": "--group-by",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Group by attributes (comma-separated). Defaults to driver unless set.",
      "default": "driver",
      "validation": null
    },
    {
      "name": "--metric",
      "aliases": null,
      "required": false,
      "type": "array",
      "description": "Metric column to include (repeatable).",
      "default": null,
      "validation": null
    },
    {
      "name": "--metrics",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Metric columns to include (comma-separated).",
      "default": null,
      "validation": null
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_driver_day_summary_create.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/controllers/v1/driver_day_summaries_controller.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/resources/v1/driver_day_summary_resource.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/resources/v1/base_plain_resource.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/driver_day_summary.rb"
    }
  ]
}
