{
  "id": "6d098d4468a29a6912ba21dbdb2533d2a5f028c94c4ac58624fb1911c6eb88de",
  "full_path": "do job-production-plan-unapprovals create",
  "description": "Unapprove a job production plan.",
  "permissions": "User must be an admin or have update permission on the related job production plan.",
  "side_effects": "Creates a job production plan unapproval action that sets the job production plan status to rejected and schedules recap generation after commit.",
  "validation_notes": "job-production-plan is required. Job production plan must be in approved or scrapped status. Unapproval is invalid if the job production plan shows evidence of a managed job running (e.g., time cards or material transactions). Status cannot be changed when the job production plan is related to invoices. For template plans, new status can only be abandoned or editing.",
  "flags": [
    {
      "name": "job-production-plan",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Job production plan ID (required). Example: 123",
      "default": null,
      "validation": null
    },
    {
      "name": "comment",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Unapproval comment. Example: Need revisions",
      "default": null,
      "validation": null
    },
    {
      "name": "suppress-status-change-notifications",
      "aliases": null,
      "required": false,
      "type": "boolean",
      "description": "Suppress status change notifications",
      "default": null,
      "validation": null
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_job_production_plan_unapprovals_create.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/job_production_plan_unapproval_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/job_production_plan_actions/job_production_plan_unapproval.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/job_production_plan_actions/job_production_plan_action.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/resources/v1/job_production_plan_action_resource.rb"
    }
  ]
}