{
  "id": "9fbd57c43e785a36b511b8ef4fd4b1909c40025f05aee463b9c6a0d447fa35cd",
  "full_path": "do job-schedule-shifts create",
  "description": "Create a new job schedule shift.",
  "permissions": "Requires authentication and permission to update the associated job; job schedule shift create/update/delete are allowed only if the user can update the job linked to the shift.",
  "side_effects": "Creates a job schedule shift. After commit it may create tender job schedule shifts for active customer tenders, update driver day data, update job production plan records, and trigger job production plan recap generation; it may also schedule trucker shift summary post updates.",
  "validation_notes": "Required flags: job, start-at, end-at. start-at and end-at must be present and end-at must be greater than start-at. start-site and start-site-type must be set together; start-site must be the job site or one of the job material sites. expected-material-transaction-count and expected-material-transaction-tons must be numbers greater than 0 when provided. start-at-min/start-at-max require is-flexible true; start-at-max must be greater than start-at-min; start-at-min/max must be absent when is-flexible is false. trailer-classification must be in the job trailer classifications. project-labor-classification must match the project. Multiple shifts are not allowed for equipment movement trip job production plans. Boolean flags must be true or false: is-planned-productive, suppress-automated-shift-feedback, is-flexible, is-subsequent-shift-in-driver-day, is-trucker-incident-creation-automated-explicit.",
  "flags": [
    {
      "name": "job",
      "required": true,
      "type": "string",
      "description": "Job ID (required)."
    },
    {
      "name": "start-at",
      "required": true,
      "type": "string",
      "description": "Shift start time (ISO 8601; required). Example: 2025-01-01T08:00:00Z.",
      "validation": "Format: ISO 8601 timestamp."
    },
    {
      "name": "end-at",
      "required": true,
      "type": "string",
      "description": "Shift end time (ISO 8601; required). Example: 2025-01-01T16:00:00Z.",
      "validation": "Format: ISO 8601 timestamp."
    },
    {
      "name": "dispatch-instructions",
      "required": false,
      "type": "string",
      "description": "Dispatch instructions."
    },
    {
      "name": "is-planned-productive",
      "required": false,
      "type": "string",
      "description": "Planned productive shift (true/false).",
      "validation": "Must be true or false."
    },
    {
      "name": "cancelled-at",
      "required": false,
      "type": "string",
      "description": "Cancelled at time (ISO 8601).",
      "validation": "Format: ISO 8601 timestamp."
    },
    {
      "name": "suppress-automated-shift-feedback",
      "required": false,
      "type": "string",
      "description": "Suppress automated shift feedback (true/false).",
      "validation": "Must be true or false."
    },
    {
      "name": "expected-material-transaction-count",
      "required": false,
      "type": "string",
      "description": "Expected material transaction count.",
      "validation": "Must be a number greater than 0 when provided."
    },
    {
      "name": "expected-material-transaction-tons",
      "required": false,
      "type": "string",
      "description": "Expected material transaction tons.",
      "validation": "Must be a number greater than 0 when provided."
    },
    {
      "name": "is-flexible",
      "required": false,
      "type": "string",
      "description": "Flexible shift (true/false).",
      "validation": "Must be true or false."
    },
    {
      "name": "start-at-min",
      "required": false,
      "type": "string",
      "description": "Earliest flexible start time (ISO 8601). Example: 2025-01-01T07:30:00Z.",
      "validation": "Format: ISO 8601 timestamp; requires is-flexible true."
    },
    {
      "name": "start-at-max",
      "required": false,
      "type": "string",
      "description": "Latest flexible start time (ISO 8601). Example: 2025-01-01T08:30:00Z.",
      "validation": "Format: ISO 8601 timestamp; requires is-flexible true."
    },
    {
      "name": "is-subsequent-shift-in-driver-day",
      "required": false,
      "type": "string",
      "description": "Subsequent shift in driver day (true/false).",
      "validation": "Must be true or false."
    },
    {
      "name": "is-trucker-incident-creation-automated-explicit",
      "required": false,
      "type": "string",
      "description": "Explicit trucker incident automation override (true/false).",
      "validation": "Must be true or false."
    },
    {
      "name": "start-site-type",
      "required": false,
      "type": "enum",
      "description": "Start site type (job-sites or material-sites).",
      "validation": "One of: job-sites, material-sites."
    },
    {
      "name": "start-site",
      "required": false,
      "type": "string",
      "description": "Start site ID (requires --start-site-type).",
      "validation": "Must be provided together with start-site-type."
    },
    {
      "name": "start-location",
      "required": false,
      "type": "string",
      "description": "Job production plan location ID."
    },
    {
      "name": "trailer-classification",
      "required": false,
      "type": "string",
      "description": "Trailer classification ID."
    },
    {
      "name": "project-labor-classification",
      "required": false,
      "type": "string",
      "description": "Project labor classification ID."
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_job_schedule_shifts_create.go"
    },
    {
      "repo_name": "cli",
      "file_path": "internal/cli/job_schedule_shifts_common.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/job_schedule_shift.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/job_schedule_shift_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/resources/v1/job_schedule_shift_resource.rb"
    }
  ]
}