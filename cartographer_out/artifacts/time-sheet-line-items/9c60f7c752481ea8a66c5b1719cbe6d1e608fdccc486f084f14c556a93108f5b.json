{
  "id": "9c60f7c752481ea8a66c5b1719cbe6d1e608fdccc486f084f14c556a93108f5b",
  "full_path": "do time-sheet-line-items update",
  "description": "Update an existing time sheet line item.",
  "permissions": "Delegated to the related time sheet. Allowed if the user is an admin or passes TimeSheetPolicy create?/update?/destroy? for the associated time sheet (e.g., driver/shift driver, trucker manager, broker member, customer manager, time-card approver, laborer on a crew requirement, or work-order roles such as manager/operations/technician assigned).",
  "side_effects": "Updates a time sheet line item; updates time sheet time columns; may sync equipment requirement associations.",
  "validation_notes": "Requires <id> argument (time sheet line item ID). At least one field must be provided to update. start-at/end-at must be ISO 8601 timestamps (e.g., 2025-01-01T08:00:00Z). break-minutes must be an integer >= 0. skip-validate-overlap and is-non-job-line-item accept true/false. Relationship fields (cost-code, craft-class, equipment-requirement, maintenance-requirement, time-sheet-line-item-classification, project-cost-classification, explicit-job-production-plan) can be set to an empty string to clear the relationship. Start/end times cannot overlap other time sheet line items unless skip-validate-overlap is true. If both start-at and end-at are set, end-at must be later than start-at. Cost code must relate to the driver day's trucker or the crew requirement's job production plan. Craft class can only be set for driver day time sheets, must match the driver day's broker, and must be valid for drivers. Time sheet line item classification must allow the time sheet's subject type. Project cost classification must be global or match the time sheet broker. Equipment requirement can only be set on labor requirement time sheets and must be on the same job. Maintenance requirement can only be set on work order time sheets and must belong to one of the work order's maintenance requirement sets. Job production plan IDs (implicit/explicit) can only be set on driver day time sheets and must relate to the driver day. Time card can only be set on driver day time sheets and must relate to the same driver day. If the trucker restricts classification edits, only time sheet approvers may change the classification on driver day time sheets.",
  "flags": [
    {
      "name": "--start-at",
      "required": false,
      "type": "string",
      "description": "Update start timestamp.",
      "validation": "ISO 8601 timestamp (e.g., 2025-01-01T08:00:00Z)."
    },
    {
      "name": "--end-at",
      "required": false,
      "type": "string",
      "description": "Update end timestamp.",
      "validation": "ISO 8601 timestamp (e.g., 2025-01-01T12:00:00Z)."
    },
    {
      "name": "--break-minutes",
      "required": false,
      "type": "integer",
      "description": "Update break minutes.",
      "validation": "Integer >= 0."
    },
    {
      "name": "--description",
      "required": false,
      "type": "string",
      "description": "Update description."
    },
    {
      "name": "--skip-validate-overlap",
      "required": false,
      "type": "boolean",
      "description": "Update skip overlap validation.",
      "validation": "true/false."
    },
    {
      "name": "--is-non-job-line-item",
      "required": false,
      "type": "boolean",
      "description": "Update non-job line item flag.",
      "validation": "true/false."
    },
    {
      "name": "--cost-code",
      "required": false,
      "type": "string",
      "description": "Update cost code ID (empty to clear).",
      "validation": "Empty string clears the relationship."
    },
    {
      "name": "--craft-class",
      "required": false,
      "type": "string",
      "description": "Update craft class ID (empty to clear).",
      "validation": "Empty string clears the relationship."
    },
    {
      "name": "--equipment-requirement",
      "required": false,
      "type": "string",
      "description": "Update equipment requirement ID (empty to clear).",
      "validation": "Empty string clears the relationship."
    },
    {
      "name": "--maintenance-requirement",
      "required": false,
      "type": "string",
      "description": "Update maintenance requirement ID (empty to clear).",
      "validation": "Empty string clears the relationship."
    },
    {
      "name": "--time-sheet-line-item-classification",
      "required": false,
      "type": "string",
      "description": "Update classification ID (empty to clear).",
      "validation": "Empty string clears the relationship."
    },
    {
      "name": "--project-cost-classification",
      "required": false,
      "type": "string",
      "description": "Update project cost classification ID (empty to clear).",
      "validation": "Empty string clears the relationship."
    },
    {
      "name": "--explicit-job-production-plan",
      "required": false,
      "type": "string",
      "description": "Update explicit job production plan ID (empty to clear).",
      "validation": "Empty string clears the relationship."
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_time_sheet_line_items_update.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/resources/v1/time_sheet_line_item_resource.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/time_sheet_line_item_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/time_sheet_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/time_sheet_line_item.rb"
    }
  ]
}