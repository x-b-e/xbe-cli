{
  "description": "Create a material transaction cost code allocation",
  "flags": [
    {
      "aliases": null,
      "default": null,
      "description": "Material transaction ID",
      "name": "--material-transaction",
      "required": true,
      "type": "string",
      "validation": "Required; identifies the material transaction to allocate (example: 123)."
    },
    {
      "aliases": null,
      "default": null,
      "description": "Cost code allocation details JSON array",
      "name": "--details",
      "required": true,
      "type": "string",
      "validation": "Required JSON array of allocation objects (example: [{\"cost_code_id\":\"456\",\"percentage\":1}])."
    }
  ],
  "full_path": "do material-transaction-cost-code-allocations create",
  "id": "216238e6cadb3cc968cd6269ee67746905e12041f7f2c940fe191f999a6435bc",
  "permissions": "Admins may create allocations. Non-admin users may create allocations only when they are members of the allocation's customer (policy allows create when customer is missing, but validation will handle invalid data).",
  "side_effects": "Creates a material transaction cost code allocation and, after commit, touches the related job production plan and refreshes derived project phase cost item actuals.",
  "sources": [
    {
      "file_path": "internal/cli/do_material_transaction_cost_code_allocations_create.go",
      "repo_name": "cli"
    },
    {
      "file_path": "app/policies/material_transaction_cost_code_allocation_policy.rb",
      "repo_name": "server"
    },
    {
      "file_path": "app/models/concerns/cost_code_allocation.rb",
      "repo_name": "server"
    },
    {
      "file_path": "app/models/material_transaction_cost_code_allocation.rb",
      "repo_name": "server"
    }
  ],
  "validation_notes": "--material-transaction and --details are required. Details must be a JSON array with at least one allocation. Each allocation may only include cost_code_id, percentage, and project_cost_classification_id. cost_code_id is required and must reference an existing cost code that belongs to the allocation's customer. percentage must be between 0 and 1, and the total percentage across allocations must equal 100%. Duplicate cost_code_id entries are not allowed."
}