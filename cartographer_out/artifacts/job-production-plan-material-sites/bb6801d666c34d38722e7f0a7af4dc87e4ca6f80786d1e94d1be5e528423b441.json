{
  "id": "bb6801d666c34d38722e7f0a7af4dc87e4ca6f80786d1e94d1be5e528423b441",
  "full_path": "do job-production-plan-material-sites create",
  "description": "Create a job production plan material site.",
  "permissions": "Requires permission to create/update the related job production plan (JobProductionPlanMaterialSitePolicy delegates authorization to the job production plan).",
  "side_effects": "On create, triggers async updates of related calculated miles, updates shift-level material transaction privileges, manages job production plan subscriptions tied to material site subscriptions, and schedules material site subscriber notifications.",
  "validation_notes": "Required flags: --job-production-plan, --material-site. default_ticket_maker must be one of: user, material_site. user-ticket-maker-material-type-ids accepts comma-separated or repeated values. material_site must be active, can be a job material site, and be available at the plan material_site_start_at time. material_site.is_only_for_equipment_movement must match job production plan is_only_for_equipment_movement, and equipment-movement plans can have only one material site. material_site must be unique per job production plan; is_default must be unique per job production plan when true. Creation is blocked if the related job production plan has invoiced time cards that prevent changes. If plan-requires-* flags are omitted, they default from the material site when available, otherwise false.",
  "flags": [
    {
      "name": "--job-production-plan",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Job production plan ID (required)",
      "default": null,
      "validation": null
    },
    {
      "name": "--material-site",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Material site ID (required)",
      "default": null,
      "validation": null
    },
    {
      "name": "--is-default",
      "aliases": null,
      "required": false,
      "type": "boolean",
      "description": "Set as the default material site",
      "default": null,
      "validation": null
    },
    {
      "name": "--miles",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Planned miles between job site and material site",
      "default": null,
      "validation": null
    },
    {
      "name": "--default-ticket-maker",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Default ticket maker (user, material_site)",
      "default": null,
      "validation": "user, material_site"
    },
    {
      "name": "--user-ticket-maker-material-type-ids",
      "aliases": null,
      "required": false,
      "type": "array",
      "description": "Material type IDs where user is ticket maker (comma-separated or repeated)",
      "default": null,
      "validation": null
    },
    {
      "name": "--has-user-scale-tickets",
      "aliases": null,
      "required": false,
      "type": "boolean",
      "description": "Whether users have scale tickets",
      "default": null,
      "validation": null
    },
    {
      "name": "--plan-requires-site-specific-material-types",
      "aliases": null,
      "required": false,
      "type": "boolean",
      "description": "Plan requires site-specific material types",
      "default": null,
      "validation": null
    },
    {
      "name": "--plan-requires-supplier-specific-material-types",
      "aliases": null,
      "required": false,
      "type": "boolean",
      "description": "Plan requires supplier-specific material types",
      "default": null,
      "validation": null
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_job_production_plan_material_sites_create.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/job_production_plan_material_site.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/concerns/belongs_to_job_production_plan.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/concerns/plan_requires_material_types.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/job_production_plan_material_site_policy.rb"
    }
  ]
}