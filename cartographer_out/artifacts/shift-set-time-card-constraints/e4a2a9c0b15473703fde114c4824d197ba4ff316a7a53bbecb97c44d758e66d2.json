{
  "id": "e4a2a9c0b15473703fde114c4824d197ba4ff316a7a53bbecb97c44d758e66d2",
  "full_path": "do shift-set-time-card-constraints update",
  "description": "Update a shift set time card constraint.",
  "permissions": "User must be authorized to create the constrained record (RateAgreement or Tender); create/update/destroy permission for a constraint delegates to the constrained record policy.",
  "side_effects": "Updates the shift set time card constraint and its relationships; touching the associated RateAgreement on commit when the constrained record is a RateAgreement.",
  "validation_notes": "The <id> argument is required. At least one attribute or relationship flag must be specified. --constrained-type and --constrained-id must be provided together if either is set. Clearing behavior: empty --shift-scope clears the shift scope; empty --service-type-unit-of-measures, --trailer-classifications, or --material-types clears those relationships; empty --calculated-constrained-amount-unit-of-measure clears that relationship. constraint-type must be minimum/equality/maximum; constrained-amount-type must be effective/base; status must be active/inactive; service-type-unit-of-measures-constraint-type must be applicable/not_applicable; shift-set-grouped-by must be customer/broker; currency-code must be USD. Explicit constrained-amount and calculated-constrained-amount-price-per-unit must be > 0 when set. calculated-constrained-amount-unit-of-measure must have abbreviation hr. calculated constraint fields are mutually exclusive with explicit constrained-amount, and explicit constrained-amount is required when not using calculated constraint fields. Parent and shift-scope validations from the server apply (parent must be a rate agreement constraint and match attributes; shift-scope must match parent rules; service type and unit of measure must be allowed). When constrained is a broker RateAgreement, shift-set-grouped-by must be broker.",
  "flags": [
    {
      "name": "--constrained-type",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Constrained type (tenders, rate-agreements)",
      "default": null,
      "validation": "Must be provided together with --constrained-id; server validates constrained_type as Tender or RateAgreement."
    },
    {
      "name": "--constrained-id",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Constrained ID",
      "default": null,
      "validation": "Must be provided together with --constrained-type."
    },
    {
      "name": "--name",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Constraint name",
      "default": null,
      "validation": null
    },
    {
      "name": "--constrained-amount",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Explicit constrained amount",
      "default": null,
      "validation": "Must be > 0 when set; mutually exclusive with calculated constraint fields."
    },
    {
      "name": "--constraint-type",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Constraint type (minimum, equality, maximum)",
      "default": null,
      "validation": "Allowed values: minimum, equality, maximum."
    },
    {
      "name": "--constrained-amount-type",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Constrained amount type (effective, base)",
      "default": null,
      "validation": "Allowed values: effective, base."
    },
    {
      "name": "--currency-code",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Currency code (USD)",
      "default": null,
      "validation": "Allowed value: USD."
    },
    {
      "name": "--status",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Status (active, inactive)",
      "default": null,
      "validation": "Allowed values: active, inactive."
    },
    {
      "name": "--service-type-unit-of-measures-constraint-type",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Service type unit of measures constraint type (applicable, not_applicable)",
      "default": null,
      "validation": "Allowed values: applicable, not_applicable."
    },
    {
      "name": "--shift-set-grouped-by",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Shift set grouped by (customer, broker)",
      "default": null,
      "validation": "Allowed values: customer, broker."
    },
    {
      "name": "--calculated-constrained-amount-price-per-unit",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Calculated price per unit",
      "default": null,
      "validation": "Must be > 0 when set; used with --calculated-constrained-amount-unit-of-measure."
    },
    {
      "name": "--calculated-constrained-amount-unit-of-measure",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Calculated unit of measure ID",
      "default": null,
      "validation": "Empty clears relationship; when set, unit must have abbreviation hr."
    },
    {
      "name": "--shift-scope",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Shift scope ID (empty to clear)",
      "default": null,
      "validation": "Empty clears relationship."
    },
    {
      "name": "--service-type-unit-of-measures",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Service type unit of measure IDs (comma-separated, empty to clear)",
      "default": null,
      "validation": "Comma-separated IDs; empty clears relationship."
    },
    {
      "name": "--trailer-classifications",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Trailer classification IDs (comma-separated, empty to clear)",
      "default": null,
      "validation": "Comma-separated IDs; empty clears relationship."
    },
    {
      "name": "--material-types",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Material type IDs (comma-separated, empty to clear)",
      "default": null,
      "validation": "Comma-separated IDs; empty clears relationship."
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_shift_set_time_card_constraints_update.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/shift_set_time_card_constraint.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/shift_set_time_card_constraint_policy.rb"
    }
  ]
}