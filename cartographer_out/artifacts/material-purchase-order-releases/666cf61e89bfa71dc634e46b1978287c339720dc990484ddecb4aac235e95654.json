{
  "description": "Create a material purchase order release.",
  "flags": [
    {
      "description": "Purchase order ID (required)",
      "name": "purchase-order",
      "required": true,
      "type": "string"
    },
    {
      "description": "Release quantity (required)",
      "name": "quantity",
      "required": true,
      "type": "string",
      "validation": "numeric, greater than 0"
    },
    {
      "description": "Release status (editing,approved,redeemed,closed)",
      "name": "status",
      "required": false,
      "type": "enum",
      "validation": "editing, approved, redeemed, closed"
    },
    {
      "description": "Trucker ID",
      "name": "trucker",
      "required": false,
      "type": "string"
    },
    {
      "description": "Tender job schedule shift ID",
      "name": "tender-job-schedule-shift",
      "required": false,
      "type": "string"
    },
    {
      "description": "Job schedule shift ID",
      "name": "job-schedule-shift",
      "required": false,
      "type": "string"
    }
  ],
  "full_path": "do material-purchase-order-releases create",
  "id": "666cf61e89bfa71dc634e46b1978287c339720dc990484ddecb4aac235e95654",
  "permissions": "User must be authorized to manage the related purchase order via the MaterialPurchaseOrderRelease policy (delegated to purchase orders), which allows access for admins or members of the purchase order broker, customer, or material supplier organizations.",
  "side_effects": "Server generates a unique release token and may derive the job or tender shift relationship based on the provided shift (tender shift sets job shift, or job shift with accepted broker tender sets tender shift).",
  "sources": [
    {
      "file_path": "internal/cli/do_material_purchase_order_releases_create.go",
      "repo_name": "cli"
    },
    {
      "file_path": "app/resources/v1/material_purchase_order_release_resource.rb",
      "repo_name": "server"
    },
    {
      "file_path": "app/models/material_purchase_order_release.rb",
      "repo_name": "server"
    },
    {
      "file_path": "app/policies/material_purchase_order_release_policy.rb",
      "repo_name": "server"
    },
    {
      "file_path": "app/policies/material_purchase_order_policy.rb",
      "repo_name": "server"
    }
  ],
  "validation_notes": "purchase-order and quantity are required. status must be one of editing, approved, redeemed, closed and defaults to editing when omitted. quantity must be numeric and greater than 0. purchase_order cannot be changed after creation. Sum of release quantities for a purchase order cannot exceed the purchase order quantity. tender_job_schedule_shift must be absent on create unless skip_validate_tender_job_schedule_shift_match is true (not exposed by this command). If tender_job_schedule_shift is set, it must be a broker tender and match the release (trucker, customer, time range, material supplier, material site, and material type), and if job_schedule_shift is not set then trucker is required. job_schedule_shift must match tender_job_schedule_shift when a tender shift is present and must match the release (customer, time range, material supplier, material site, material type) unless skip_validate_job_schedule_shift_match is true (not exposed). Releases cannot be approved unless the purchase order is approved. trucker and tender_job_schedule_shift cannot be set when the release is not active (status not approved or redeemed)."
}