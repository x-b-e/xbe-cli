{
  "id": "17f4881e474667973c2379cea9fd7a3ec505e2d0ed5dd426e825073d2ec165aa",
  "full_path": "do project-transport-plan-segments create",
  "description": "Create a project transport plan segment",
  "permissions": "Requires access to the related project transport plan via ProjectTransportPlanSegmentPolicy (delegated to ProjectTransportPlanPolicy).",
  "side_effects": "Creates a project transport plan segment. On create, the server may enqueue background work to create and associate a transport route when none exists.",
  "validation_notes": "project-transport-plan, origin, and destination are required. miles must be a non-negative number when provided. miles_source must be present and is limited to unknown or transport_route (default unknown). origin and destination must belong to the same project transport plan. project-transport-plan-segment-set must belong to the same plan. trucker must match the segment set trucker and belong to the same broker as the plan. external-tms-order-number and external-tms-movement-number can only be set when the project is transport-only.",
  "flags": [
    {
      "name": "--project-transport-plan",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Project transport plan ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--origin",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Origin stop ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--destination",
      "aliases": null,
      "required": true,
      "type": "string",
      "description": "Destination stop ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--position",
      "aliases": null,
      "required": false,
      "type": "integer",
      "description": "Segment position within the plan",
      "default": null,
      "validation": null
    },
    {
      "name": "--miles",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Segment miles",
      "default": null,
      "validation": "Must be a non-negative number."
    },
    {
      "name": "--miles-source",
      "aliases": null,
      "required": false,
      "type": "enum",
      "description": "Miles source (unknown, transport_route)",
      "default": null,
      "validation": "One of: unknown, transport_route."
    },
    {
      "name": "--project-transport-plan-segment-set",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Segment set ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--trucker",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "Trucker ID",
      "default": null,
      "validation": null
    },
    {
      "name": "--external-tms-order-number",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "External TMS order number (transport-only projects)",
      "default": null,
      "validation": "Only allowed when the project is transport-only."
    },
    {
      "name": "--external-tms-movement-number",
      "aliases": null,
      "required": false,
      "type": "string",
      "description": "External TMS movement number (transport-only projects)",
      "default": null,
      "validation": "Only allowed when the project is transport-only."
    }
  ],
  "sources": [
    {
      "repo_name": "cli",
      "file_path": "internal/cli/do_project_transport_plan_segments_create.go"
    },
    {
      "repo_name": "server",
      "file_path": "app/resources/v1/project_transport_plan_segment_resource.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/models/project_transport_plan_segment.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/project_transport_plan_segment_policy.rb"
    },
    {
      "repo_name": "server",
      "file_path": "app/policies/project_transport_plan_policy.rb"
    }
  ]
}
